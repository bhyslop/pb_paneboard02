<?xml version="1.0" encoding="utf-8"?>
<Form>
  <DisplayQuirk nameContains="FlipGo-A" platform="macos" minBottomInset="31"/>

  <!--
    QUADRANT MODEL (home/pgup/end/pgdn keys)

    Each key produces 11 panes in this sequence:
    1. Full display
    2. Top half (home|pgup) or bottom half (end|pgdn)
    3. The target quadrant: TL (home), TR (pgup), BL (end), BR (pgdn)
    4. Top half of that quadrant
    5. Bottom half of that quadrant
    6. Left half of that quadrant
    7. Right half of that quadrant
    8-11. Four sub-quadrants of that quadrant (TL, TR, BL, BR)

    Traversal order controlled by 'traverse' attribute on LayoutAction.
    This allows repeated presses to cycle through all 11 positions.
  -->

  <!--
    FUTURE: TIC-TAC-TOE 3×3 GRID MODEL (u/i/o/j/k/l/m/,/. keys)

    Maps home-row adjacent keys to 3×3 grid positions:
      u  i  o    (top row)
      j  k  l    (middle row)
      m  ,  .    (bottom row)

    Behavior:
    - 8 outer keys (u/i/o/j/l/m/,/.): single press → that grid cell
    - Center key (k): 1st press = full screen, 2nd press = center cell only

    Not yet implemented - deferred pending quadrant model debugging.
  -->

  <!-- ========== QUADRANT FRAMES (11 panes each) ========== -->

  <!-- Top-Left quadrant: 11-pane progression -->
  <Frame name="quad-tl">
    <Pane x="0" y="0" width="1" height="1"/>          <!-- 1. Full display -->
    <Pane x="0" y="0" width="1" height="1/2"/>        <!-- 2. Top half -->
    <Pane x="0" y="0" width="1/2" height="1/2"/>      <!-- 3. TL quadrant -->
    <Pane x="0" y="0" width="1/2" height="1/4"/>      <!-- 4. Top half of TL quad -->
    <Pane x="0" y="1/4" width="1/2" height="1/4"/>    <!-- 5. Bottom half of TL quad -->
    <Pane x="0" y="0" width="1/4" height="1/2"/>      <!-- 6. Left half of TL quad -->
    <Pane x="1/4" y="0" width="1/4" height="1/2"/>    <!-- 7. Right half of TL quad -->
    <Pane x="0" y="0" width="1/4" height="1/4"/>      <!-- 8. TL sub-quad -->
    <Pane x="1/4" y="0" width="1/4" height="1/4"/>    <!-- 9. TR sub-quad -->
    <Pane x="0" y="1/4" width="1/4" height="1/4"/>    <!-- 10. BL sub-quad -->
    <Pane x="1/4" y="1/4" width="1/4" height="1/4"/>  <!-- 11. BR sub-quad -->
  </Frame>

  <!-- Top-Right quadrant: 11-pane progression -->
  <Frame name="quad-tr">
    <Pane x="0" y="0" width="1" height="1"/>          <!-- 1. Full display -->
    <Pane x="0" y="0" width="1" height="1/2"/>        <!-- 2. Top half -->
    <Pane x="1/2" y="0" width="1/2" height="1/2"/>    <!-- 3. TR quadrant -->
    <Pane x="1/2" y="0" width="1/2" height="1/4"/>    <!-- 4. Top half of TR quad -->
    <Pane x="1/2" y="1/4" width="1/2" height="1/4"/>  <!-- 5. Bottom half of TR quad -->
    <Pane x="1/2" y="0" width="1/4" height="1/2"/>    <!-- 6. Left half of TR quad -->
    <Pane x="3/4" y="0" width="1/4" height="1/2"/>    <!-- 7. Right half of TR quad -->
    <Pane x="1/2" y="0" width="1/4" height="1/4"/>    <!-- 8. TL sub-quad -->
    <Pane x="3/4" y="0" width="1/4" height="1/4"/>    <!-- 9. TR sub-quad -->
    <Pane x="1/2" y="1/4" width="1/4" height="1/4"/>  <!-- 10. BL sub-quad -->
    <Pane x="3/4" y="1/4" width="1/4" height="1/4"/>  <!-- 11. BR sub-quad -->
  </Frame>

  <!-- Bottom-Left quadrant: 11-pane progression -->
  <Frame name="quad-bl">
    <Pane x="0" y="0" width="1" height="1"/>          <!-- 1. Full display -->
    <Pane x="0" y="1/2" width="1" height="1/2"/>      <!-- 2. Bottom half -->
    <Pane x="0" y="1/2" width="1/2" height="1/2"/>    <!-- 3. BL quadrant -->
    <Pane x="0" y="1/2" width="1/2" height="1/4"/>    <!-- 4. Top half of BL quad -->
    <Pane x="0" y="3/4" width="1/2" height="1/4"/>    <!-- 5. Bottom half of BL quad -->
    <Pane x="0" y="1/2" width="1/4" height="1/2"/>    <!-- 6. Left half of BL quad -->
    <Pane x="1/4" y="1/2" width="1/4" height="1/2"/>  <!-- 7. Right half of BL quad -->
    <Pane x="0" y="1/2" width="1/4" height="1/4"/>    <!-- 8. TL sub-quad -->
    <Pane x="1/4" y="1/2" width="1/4" height="1/4"/>  <!-- 9. TR sub-quad -->
    <Pane x="0" y="3/4" width="1/4" height="1/4"/>    <!-- 10. BL sub-quad -->
    <Pane x="1/4" y="3/4" width="1/4" height="1/4"/>  <!-- 11. BR sub-quad -->
  </Frame>

  <!-- Bottom-Right quadrant: 11-pane progression -->
  <Frame name="quad-br">
    <Pane x="0" y="0" width="1" height="1"/>          <!-- 1. Full display -->
    <Pane x="0" y="1/2" width="1" height="1/2"/>      <!-- 2. Bottom half -->
    <Pane x="1/2" y="1/2" width="1/2" height="1/2"/>  <!-- 3. BR quadrant -->
    <Pane x="1/2" y="1/2" width="1/2" height="1/4"/>  <!-- 4. Top half of BR quad -->
    <Pane x="1/2" y="3/4" width="1/2" height="1/4"/>  <!-- 5. Bottom half of BR quad -->
    <Pane x="1/2" y="1/2" width="1/4" height="1/2"/>  <!-- 6. Left half of BR quad -->
    <Pane x="3/4" y="1/2" width="1/4" height="1/2"/>  <!-- 7. Right half of BR quad -->
    <Pane x="1/2" y="1/2" width="1/4" height="1/4"/>  <!-- 8. TL sub-quad -->
    <Pane x="3/4" y="1/2" width="1/4" height="1/4"/>  <!-- 9. TR sub-quad -->
    <Pane x="1/2" y="3/4" width="1/4" height="1/4"/>  <!-- 10. BL sub-quad -->
    <Pane x="3/4" y="3/4" width="1/4" height="1/4"/>  <!-- 11. BR sub-quad -->
  </Frame>

  <!-- ========== LAYOUTS ========== -->

  <!-- Top-Left quadrant: 11-pane flat traversal -->
  <Layout name="quad-tl">
    <Shape frame="quad-tl"/>
  </Layout>

  <!-- Top-Right quadrant: 11-pane flat traversal -->
  <Layout name="quad-tr">
    <Shape frame="quad-tr"/>
  </Layout>

  <!-- Bottom-Left quadrant: 11-pane flat traversal -->
  <Layout name="quad-bl">
    <Shape frame="quad-bl"/>
  </Layout>

  <!-- Bottom-Right quadrant: 11-pane flat traversal -->
  <Layout name="quad-br">
    <Shape frame="quad-br"/>
  </Layout>

  <!-- ========== LAYOUT ACTIONS ========== -->

  <!-- Quadrant traversal (home/pgup/end/pgdn keys) -->
  <LayoutAction key="home" layout="quad-tl" traverse="xfyf" mirrorX="keep" mirrorY="keep"/>
  <LayoutAction key="pageup" layout="quad-tr" traverse="xfyf" mirrorX="keep" mirrorY="keep"/>
  <LayoutAction key="end" layout="quad-bl" traverse="xfyf" mirrorX="keep" mirrorY="keep"/>
  <LayoutAction key="pagedown" layout="quad-br" traverse="xfyf" mirrorX="keep" mirrorY="keep"/>

  <!-- Display movement -->
  <DisplayMove key="h" target="prev" wrap="true"/>
  <DisplayMove key="semicolon" target="next" wrap="true"/>
</Form>
